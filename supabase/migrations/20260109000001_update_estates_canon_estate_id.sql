-- Migration: Update estates with canon_estate_id mappings
-- Created: 2026-01-09
-- Description: Updates the estates table with canon_estate_id values from estate-canon-ids.csv
-- This links existing estates to their canonical estate counterparts.

UPDATE public.estates e
SET canon_estate_id = mapping.canon_estate_id
FROM (
  VALUES
    ('372e720b-b4bc-4f3f-bdac-e38e49bc6ee1'::uuid, 'e5878a46-cfb2-4100-b020-bca3b33e496a'::uuid),
    ('2ca77ba2-a608-40be-8aba-e9206090b2fd'::uuid, 'e54b03db-3b0f-4eb1-baf7-e4232c448e43'::uuid),
    ('34003805-d2c4-488d-a2a3-4f9164258a34'::uuid, '51cca16d-b4d4-4f4b-9037-6265417e6e43'::uuid),
    ('2b2f21a3-8966-4179-a37f-64e576f4a7b7'::uuid, '51cca16d-b4d4-4f4b-9037-6265417e6e43'::uuid),
    ('b6060cd1-30cd-443e-841c-2ab87f71ed2c'::uuid, '289c1504-e4e0-4d06-b4cc-9856c67a6462'::uuid),
    ('148713ee-92c5-4448-98d3-fe5c4de877cd'::uuid, '4cf04330-e95a-43b4-92ff-b3d706357f75'::uuid),
    ('c6abfc5e-67da-46be-aafe-3f3837bf94dc'::uuid, '3b403012-d145-4bb9-ba2c-c3256bf6d4dc'::uuid),
    ('f4d3aa8c-3415-48e1-939a-cab9edb1ca82'::uuid, '3b403012-d145-4bb9-ba2c-c3256bf6d4dc'::uuid),
    ('1b38e538-c31f-4e8c-8187-f5bfeb21b832'::uuid, '588f19b2-24db-4817-9c98-0199e8b0a44a'::uuid),
    ('c6cac53e-d9c8-4b3f-8363-7064eea0eb78'::uuid, '98f495ab-1e0d-47f7-b58c-565dceafe0d3'::uuid),
    ('a8abd048-77a6-4eaf-9334-ee41c69d623c'::uuid, '9dc3266a-b8f3-4eb3-a1cc-ad4b75a440b6'::uuid),
    ('b7f0b0ae-3662-4ac7-a8e1-efcedbef6679'::uuid, '7218c7e1-ef0b-4c65-9c44-ab9cafe1dae1'::uuid),
    ('d301714e-bc2e-4e85-be42-b0a80bf3e32b'::uuid, 'af485c4e-8e70-4a77-a9f7-4e92c28e0640'::uuid),
    ('11ede04a-5556-4f4b-8128-9aba1684415d'::uuid, 'dc803d20-55fb-4564-8366-63c00fd871ba'::uuid),
    ('7f6daff6-5625-4866-847f-1b746b7bb83c'::uuid, '9103d7a9-d55f-4e1d-9526-1e07fb9a001c'::uuid),
    ('3f60c67f-1410-4e24-a12d-14c87de80b84'::uuid, '6ecfcbb7-bdd6-4b9c-b9e7-6dd5e0ddf563'::uuid),
    ('333f77d4-2503-4f4c-9393-eadf4b554052'::uuid, '84582b12-822e-41a8-9208-7d35df3ff5c1'::uuid),
    ('173d5375-961a-4a1d-8c81-f6213d625527'::uuid, '8693658c-3cbf-4e03-9a33-4cda30ee36a1'::uuid),
    ('37e52c6d-50d6-4f7d-9af2-a14b7e102b81'::uuid, '0e4b5b44-fe92-47e5-948c-ab12839e671a'::uuid),
    ('640a84fc-b217-4e74-8cb3-56e17c54b4f7'::uuid, 'd0d7bbe5-7ad7-4d20-b944-f1d15fbc097a'::uuid),
    ('253ac23f-a466-4ae4-b218-e359cd32185a'::uuid, '7df3f425-627d-42a6-8620-87188af8ade7'::uuid),
    ('b687f4a4-bcdd-45ca-9c1d-637ad01a2931'::uuid, '492ef7f5-fe07-4ecf-8913-21c754811aa5'::uuid),
    ('9dbafadf-1df5-4b53-8a5b-4d14699e8e54'::uuid, '67a80d56-1a98-4692-988a-b605593ce1dd'::uuid),
    ('6dbab21c-d13c-441a-8cb3-67c7daf5603b'::uuid, '279cd604-7a38-4dfe-bb36-61b6c209eff2'::uuid),
    ('f5e00103-4cf1-421c-8273-1d599078d017'::uuid, '8ca94e73-1436-426f-b862-c3a025ef709a'::uuid),
    ('5d0178c5-03b7-4237-9139-fd2860feeb53'::uuid, '8ca94e73-1436-426f-b862-c3a025ef709a'::uuid),
    ('9b77572f-405a-4642-8270-a9cf7b31a548'::uuid, 'bdfb3e56-b89d-4e4b-b13b-7e27a28f6c62'::uuid),
    ('94d42cde-c29b-4494-9594-fff3e466c6e2'::uuid, '2c20ae93-d3f9-4c11-9ff5-b7b8137717ce'::uuid),
    ('21b77375-922e-4b74-9bab-e2a4ad9d2a8f'::uuid, '24ac11c1-af0f-4baf-afc3-d7e89395f89d'::uuid),
    ('b00cffaf-a78c-4316-8033-020692190ae7'::uuid, '66536767-1c36-4685-92de-ec059802c252'::uuid),
    ('f20ca265-9b6f-4ad3-919f-0f17358a1900'::uuid, '0ca78013-63c3-430d-a99a-a07c33e081a8'::uuid),
    ('31b7779f-4d06-4652-9144-77e49b2cc538'::uuid, 'bb27cd70-5497-4892-8d92-af2bd16c417f'::uuid),
    ('2529f076-78a7-4f24-9d34-76d49e7155a0'::uuid, 'df2a13c2-31aa-439c-b32e-72198529282e'::uuid),
    ('ece73880-23df-4e32-bcac-1762c468f08c'::uuid, 'c45176b7-c05e-4565-a815-1ee3ca41d9fe'::uuid),
    ('7ba69318-6016-449f-b638-3e767a8c76a1'::uuid, 'b0c5cf13-b73f-4fcc-9ff0-405724977374'::uuid),
    ('996ff0ba-8522-4191-8793-de8124ce3127'::uuid, '5712b2e2-1241-46a8-8281-ccc0395470cf'::uuid),
    ('cfbd5510-c694-41ae-936a-8743920e895b'::uuid, 'eba0774a-6425-4a57-8d25-8522e6800e32'::uuid),
    ('e07e16ae-91b2-469e-ab3c-f268a6f68f05'::uuid, 'a765d50a-68ed-4599-b919-a6effc03f617'::uuid),
    ('d195612b-fce4-4d20-9680-2ecbded9b611'::uuid, '20dc57b0-1c02-493f-8323-5b8994a86d38'::uuid),
    ('a0699009-b2dd-43e5-830d-2781c96ef1ca'::uuid, '2b3b710c-341a-46c8-a621-349df3a2f1aa'::uuid),
    ('bbf2a4e6-e161-4ac8-b125-bf568ceb035e'::uuid, '2b3b710c-341a-46c8-a621-349df3a2f1aa'::uuid),
    ('3a2446a0-fcb6-4285-8574-affa26e9b315'::uuid, '4d6efe2c-c6d2-4cb9-982d-eff4f3326e2d'::uuid),
    ('5f9b2b93-5f14-4ae2-8630-7f8eb585adf2'::uuid, '540ede2f-ab9e-496f-8086-d74c7e116c94'::uuid),
    ('e866f9ea-a404-4a95-9061-cc04ba165869'::uuid, 'd5473291-8d00-41a5-854a-f5dbcb14b92e'::uuid),
    ('ef65b23b-4875-4de5-97d5-c3d8609d5d37'::uuid, 'd1afacba-0406-4d24-a3a3-2fc634a76735'::uuid),
    ('dd714f72-2349-4730-9b3a-b7d837061410'::uuid, 'd1afacba-0406-4d24-a3a3-2fc634a76735'::uuid),
    ('d6c10e6f-3dd0-41b3-9866-9a0ed1425304'::uuid, '04f175db-9d5e-4e04-a7d8-ad2b78940bd0'::uuid),
    ('a2fbb473-d692-4ff1-b9cc-d55d058e2192'::uuid, '6ef72f20-792d-4138-9dab-9da2fd3dfcf1'::uuid),
    ('c0e52d67-96a1-4112-b15e-e993307dee30'::uuid, 'c05958c7-a319-4b57-ac78-942b4538aa30'::uuid),
    ('59a81726-1b3e-4561-a4e3-d884b33b74ce'::uuid, '094d73b9-73eb-49e0-8e2a-5782103470e1'::uuid),
    ('0175d72a-2efa-4d17-a067-e3a21c4c1924'::uuid, 'a726925d-9e66-4518-82a2-aefb4f32e060'::uuid),
    ('914cc88c-8a81-426c-9cd3-98fb6a0adf3d'::uuid, 'fbd78836-10f0-4f84-8bfb-d978cf568fc6'::uuid),
    ('dd1a1759-e20c-4b0f-a4b3-963048c1b399'::uuid, 'b5b155a2-7e4e-4241-956a-c980fabc2b0e'::uuid),
    ('3a4783bc-f9ec-4fc9-b664-329211e8785c'::uuid, '02ca7744-b51a-4141-b739-cf8d0315e888'::uuid),
    ('4c6dfcc9-0adc-496b-86a7-b81398c1c3cd'::uuid, 'dbbc72b0-68eb-4ac0-ab99-449e5777c0c3'::uuid),
    ('f79601ec-de79-4b74-b669-8463579f6165'::uuid, '964c4def-2c0d-4276-a305-7c7a4b8449bc'::uuid),
    ('f660dfc1-8877-4ae2-8942-738fa87860a4'::uuid, '993a3be2-c247-41c3-b276-0cc02ca2fd84'::uuid),
    ('4d168f64-3a54-450a-9348-3b3f724ee508'::uuid, 'd07e24ce-7eb6-44ae-b779-2807b0662644'::uuid),
    ('134c497f-a6ec-4efb-86a8-b3abf80943f2'::uuid, '7be9689c-9227-4106-978e-d2f8b6cce7ad'::uuid),
    ('c960b82e-97cf-415e-be48-968c8445c695'::uuid, '54b7cdd6-82b9-403b-9605-d06c896411a1'::uuid),
    ('73d0a4e0-0f34-4f50-95d2-ba1165e462b2'::uuid, 'a02d05f6-4118-463f-9088-abb0a167e688'::uuid),
    ('3c112c8a-ad56-49ae-b296-8b962a4b30a6'::uuid, 'a6c14eff-225d-4919-9237-a20eda8db3d3'::uuid),
    ('a37142b8-24ee-49db-a2e6-14c983d268a7'::uuid, 'df2f3665-908f-4cea-a4c1-cf47dd107354'::uuid),
    ('35bf720e-c58e-45e0-9e2b-8681d434f8db'::uuid, '27df7cd2-6c62-4568-befc-3cc035db3856'::uuid),
    ('e3db3f85-32dd-40f8-87e0-8a8b3552a3fe'::uuid, '48d29a29-00e1-4f9e-8aba-5dd5cbd11399'::uuid),
    ('06d78ddc-ed4a-4ebe-8ff1-da261a887862'::uuid, 'a5f7b3d9-9dfa-4478-93f0-794735b901a0'::uuid),
    ('efaa12d2-e2ee-4f7d-9f48-f71c1629b831'::uuid, 'd68e35ed-6eab-4f3b-94f8-09f02d8ff24f'::uuid),
    ('c06be4ad-2800-4b05-bda6-bd35bdcd90de'::uuid, '42bdfb52-b530-4344-9f17-9ef17ad11e8f'::uuid),
    ('8e5451ee-918c-4d3a-81e4-ded41a0ed23e'::uuid, 'b26c3799-30c2-4466-8093-652f536be616'::uuid),
    ('b14765ff-e028-4ebe-916d-460e2acbb6a9'::uuid, 'cd3000ed-4f3b-418b-99ac-2558ce874eef'::uuid),
    ('9d8231ae-4d81-40ab-a4ef-980d43e2d3e3'::uuid, '434f8d0b-66d2-4949-b766-fc28f70e4d87'::uuid),
    ('206288dd-e574-47aa-bb43-786b91b98adb'::uuid, 'da46ba18-b0ee-445a-aa85-163d74c7bb5a'::uuid),
    ('9ebd7806-e6ae-4c40-8859-62fa559c0bac'::uuid, '2fce65a9-6d40-4622-ae17-4571ace88a1c'::uuid),
    ('e8dc6f1d-5587-4e97-9b29-c31577a5fbac'::uuid, '9451d055-54b7-42f6-acc9-30b239494879'::uuid),
    ('24a6cdc0-d049-498f-a814-4273bda6726a'::uuid, '48893c3b-ce62-45a7-b3ed-74f64aeea8fb'::uuid),
    ('43f4d01d-8bfb-4116-a0cc-c454fc0b602f'::uuid, '54b7cdd6-82b9-403b-9605-d06c896411a1'::uuid),
    ('d023a7ed-2c7a-4067-a165-959a03d84386'::uuid, '2fb2364c-5d24-472b-8670-087a8f7729b4'::uuid),
    ('348c20c9-683e-42ed-ad8a-4da1ecdd2c46'::uuid, 'a2c7293b-d57e-42b0-acf9-38f96cdb2330'::uuid),
    ('68c630cb-8b46-47c2-b64e-d97e6faac9d2'::uuid, '6a304a6b-35e2-49c7-91ba-e1f6705d8625'::uuid),
    ('225f9141-92ae-4654-b287-63809dd1e340'::uuid, 'b3cf7c64-a000-4c63-a052-4862c5cbcf98'::uuid),
    ('c9c99c1e-7f96-42b7-9a1b-8c6a5f28f007'::uuid, 'b3cf7c64-a000-4c63-a052-4862c5cbcf98'::uuid),
    ('82f6ea06-5389-40af-b3a7-f18ef32e6518'::uuid, 'ad183cb9-cc7b-4193-9b8a-53264ed96185'::uuid),
    ('74159323-1482-453f-a781-a5a53ea4be1f'::uuid, 'd119cbcc-3e86-4e0e-966a-45b36e266f83'::uuid),
    ('bb5d4af2-5703-4996-ae40-214037523cd9'::uuid, '3d183936-3c9b-4721-a811-cb200ca554b1'::uuid),
    ('fab687dc-4a5f-427f-b41d-0137618beda8'::uuid, 'd00e4da8-dc13-4916-9269-5800d9b30acc'::uuid),
    ('3826f4d8-fe5b-4f6a-9edb-ba89b7325455'::uuid, 'f3f53548-4cd6-4925-ae05-fcddad959b42'::uuid),
    ('7236fda0-2cbc-4e02-b919-d26a44c0df99'::uuid, 'd5e59350-b876-4c65-819f-dcb0d37354e3'::uuid),
    ('684f06dc-c525-4cb7-93a0-301dec204192'::uuid, 'd357e231-86cf-453f-b209-a0e168eb4553'::uuid),
    ('7eb6869c-35fb-4d8c-8fea-e786d98a628c'::uuid, '6089eb16-c35e-4e71-81f8-ef26bde1e36f'::uuid),
    ('09f96128-a352-448a-8a6a-16c4091a6628'::uuid, 'f7c79d46-89ba-4044-9dcd-f331a15ec53e'::uuid),
    ('b8cd8214-479a-4815-98bf-ec8c8b16d26e'::uuid, 'f7c79d46-89ba-4044-9dcd-f331a15ec53e'::uuid),
    ('86cfc612-3881-4a26-91e2-e8198291dddb'::uuid, '7c73e00f-df36-4cff-99e4-b643cbde0e79'::uuid),
    ('9cfa6796-6ac6-4517-af6a-898b5fa6c436'::uuid, '7c73e00f-df36-4cff-99e4-b643cbde0e79'::uuid),
    ('ea6b714b-b3e7-4281-bf50-33a883b66c84'::uuid, '79484252-b029-4efe-bac7-bef8f8bbbaa0'::uuid),
    ('38ec7605-4667-4e81-bf02-85b71da045ca'::uuid, '79484252-b029-4efe-bac7-bef8f8bbbaa0'::uuid),
    ('44a7ec19-9caf-456b-8986-49264c633b88'::uuid, '4f42cd61-7ac6-4ac4-b73c-cc0d5a5a8040'::uuid),
    ('90ebe594-d743-4764-8332-80e54ff4d787'::uuid, 'b76f3a05-dcfd-4e92-a741-2079183f66f6'::uuid),
    ('40eda6ec-ae7f-4e51-99e5-9fac65c0cf1c'::uuid, 'ba5f6660-8446-46d1-b295-88942ca9117b'::uuid),
    ('176b8f38-0ef8-423a-a6b1-1a0214499fa8'::uuid, 'ba1cd729-48f3-4820-a0ea-4b5d0403e2a0'::uuid),
    ('6ad8f125-e5e5-49bb-915e-c8228eb95f0d'::uuid, 'ba1cd729-48f3-4820-a0ea-4b5d0403e2a0'::uuid),
    ('fc2b64d6-9255-4de3-a0de-dc73392d07bd'::uuid, '1e7fefe9-2179-46e3-b043-f2550331523e'::uuid),
    ('003f2ada-6cc8-4a7f-9d70-3de666c6f7c5'::uuid, 'e5eaf3f3-bcc0-48db-b34b-58263ba54b3e'::uuid),
    ('fad2f65d-6dc1-41ca-a0e3-ac65fcbd9c26'::uuid, '024e9bef-a1f7-4467-93a4-82aedc28bfac'::uuid),
    ('503c7495-47ff-465d-bee5-3a9c1df33727'::uuid, '961fc5e9-3cdc-4d5d-a34c-325cfea90689'::uuid),
    ('f0b64c93-3e5c-4708-b757-de5ff4374a2b'::uuid, '337fd6d4-38cb-4699-bcae-2245c0eff3a6'::uuid),
    ('0b0a7e77-f1dc-43d3-a419-59d406036531'::uuid, '4cf04330-e95a-43b4-92ff-b3d706357f75'::uuid),
    ('278193bd-4433-45b9-9a38-56ea06f4f636'::uuid, 'dd356259-874d-4279-952a-8b7271a4830b'::uuid)
) AS mapping(estate_id, canon_estate_id)
WHERE e.id = mapping.estate_id;
