| indexname                                 | indexdef                                                                                                                                                                      |
| ----------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| announcements_pkey                        | CREATE UNIQUE INDEX announcements_pkey ON public.announcements USING btree (id)                                                                                               |
| brew_methods_key_key                      | CREATE UNIQUE INDEX brew_methods_key_key ON public.brew_methods USING btree (key)                                                                                             |
| brew_methods_pkey                         | CREATE UNIQUE INDEX brew_methods_pkey ON public.brew_methods USING btree (id)                                                                                                 |
| canon_estates_pkey                        | CREATE UNIQUE INDEX canon_estates_pkey ON public.canon_estates USING btree (id)                                                                                               |
| canon_estates_slug_key                    | CREATE UNIQUE INDEX canon_estates_slug_key ON public.canon_estates USING btree (slug)                                                                                         |
| canon_regions_pkey                        | CREATE UNIQUE INDEX canon_regions_pkey ON public.canon_regions USING btree (id)                                                                                               |
| canon_regions_slug_key                    | CREATE UNIQUE INDEX canon_regions_slug_key ON public.canon_regions USING btree (slug)                                                                                         |
| coffee_brew_method_unique_pair            | CREATE UNIQUE INDEX coffee_brew_method_unique_pair ON public.coffee_brew_methods USING btree (coffee_id, brew_method_id)                                                      |
| coffee_brew_methods_pkey                  | CREATE UNIQUE INDEX coffee_brew_methods_pkey ON public.coffee_brew_methods USING btree (coffee_id, brew_method_id)                                                            |
| coffee_estates_pkey                       | CREATE UNIQUE INDEX coffee_estates_pkey ON public.coffee_estates USING btree (coffee_id, estate_id)                                                                           |
| coffee_flavor_notes_pkey                  | CREATE UNIQUE INDEX coffee_flavor_notes_pkey ON public.coffee_flavor_notes USING btree (coffee_id, flavor_note_id)                                                            |
| coffee_flavor_notes_unique_pair           | CREATE UNIQUE INDEX coffee_flavor_notes_unique_pair ON public.coffee_flavor_notes USING btree (coffee_id, flavor_note_id)                                                     |
| coffee_id_platform_variant_id_unique_pair | CREATE UNIQUE INDEX coffee_id_platform_variant_id_unique_pair ON public.variants USING btree (coffee_id, platform_variant_id)                                                 |
| coffee_images_pkey                        | CREATE UNIQUE INDEX coffee_images_pkey ON public.coffee_images USING btree (id)                                                                                               |
| coffee_region_unique_pair                 | CREATE UNIQUE INDEX coffee_region_unique_pair ON public.coffee_regions USING btree (coffee_id, region_id)                                                                     |
| coffee_regions_pkey                       | CREATE UNIQUE INDEX coffee_regions_pkey ON public.coffee_regions USING btree (coffee_id, region_id)                                                                           |
| coffees_pkey                              | CREATE UNIQUE INDEX coffees_pkey ON public.coffees USING btree (id)                                                                                                           |
| coffees_roaster_platform_uid              | CREATE UNIQUE INDEX coffees_roaster_platform_uid ON public.coffees USING btree (roaster_id, platform_product_id)                                                              |
| enrichments_enrichment_id_key             | CREATE UNIQUE INDEX enrichments_enrichment_id_key ON public.enrichments USING btree (enrichment_id)                                                                           |
| enrichments_pkey                          | CREATE UNIQUE INDEX enrichments_pkey ON public.enrichments USING btree (id)                                                                                                   |
| estates_estate_key_key                    | CREATE UNIQUE INDEX estates_estate_key_key ON public.estates USING btree (estate_key)                                                                                         |
| estates_pkey                              | CREATE UNIQUE INDEX estates_pkey ON public.estates USING btree (id)                                                                                                           |
| flavor_notes_key_key                      | CREATE UNIQUE INDEX flavor_notes_key_key ON public.flavor_notes USING btree (key)                                                                                             |
| flavor_notes_key_uid                      | CREATE UNIQUE INDEX flavor_notes_key_uid ON public.flavor_notes USING btree (key)                                                                                             |
| flavor_notes_pkey                         | CREATE UNIQUE INDEX flavor_notes_pkey ON public.flavor_notes USING btree (id)                                                                                                 |
| form_submissions_pkey                     | CREATE UNIQUE INDEX form_submissions_pkey ON public.form_submissions USING btree (id)                                                                                         |
| idx_announcements_created_at              | CREATE INDEX idx_announcements_created_at ON public.announcements USING btree (created_at DESC)                                                                               |
| idx_announcements_is_active_created_at    | CREATE INDEX idx_announcements_is_active_created_at ON public.announcements USING btree (is_active, created_at DESC) WHERE (is_active = true)                                 |
| idx_canon_estates_name                    | CREATE INDEX idx_canon_estates_name ON public.canon_estates USING gin (to_tsvector('simple'::regconfig, name))                                                                |
| idx_canon_estates_region                  | CREATE INDEX idx_canon_estates_region ON public.canon_estates USING btree (canon_region_id)                                                                                   |
| idx_canon_regions_country_state           | CREATE INDEX idx_canon_regions_country_state ON public.canon_regions USING btree (country, state)                                                                             |
| idx_canon_regions_display_name            | CREATE INDEX idx_canon_regions_display_name ON public.canon_regions USING gin (to_tsvector('simple'::regconfig, display_name))                                                |
| idx_coffee_brew_methods_brew_method_id    | CREATE INDEX idx_coffee_brew_methods_brew_method_id ON public.coffee_brew_methods USING btree (brew_method_id)                                                                |
| idx_coffee_estates_estate_id              | CREATE INDEX idx_coffee_estates_estate_id ON public.coffee_estates USING btree (estate_id)                                                                                    |
| idx_coffee_flavor_notes_flavor_note_id    | CREATE INDEX idx_coffee_flavor_notes_flavor_note_id ON public.coffee_flavor_notes USING btree (flavor_note_id)                                                                |
| idx_coffee_images_coffee                  | CREATE INDEX idx_coffee_images_coffee ON public.coffee_images USING btree (coffee_id)                                                                                         |
| idx_coffee_images_content_hash            | CREATE INDEX idx_coffee_images_content_hash ON public.coffee_images USING btree (content_hash)                                                                                |
| idx_coffee_images_imagekit_url            | CREATE INDEX idx_coffee_images_imagekit_url ON public.coffee_images USING btree (imagekit_url)                                                                                |
| idx_coffee_regions_region_id              | CREATE INDEX idx_coffee_regions_region_id ON public.coffee_regions USING btree (region_id)                                                                                    |
| idx_coffee_summary_roaster                | CREATE INDEX idx_coffee_summary_roaster ON public.coffees USING btree (roaster_id)                                                                                            |
| idx_coffees_content_hash                  | CREATE INDEX idx_coffees_content_hash ON public.coffees USING btree (((source_raw ->> 'content_hash'::text)))                                                                 |
| idx_coffees_first_seen_at                 | CREATE INDEX idx_coffees_first_seen_at ON public.coffees USING btree (first_seen_at)                                                                                          |
| idx_coffees_is_coffee                     | CREATE INDEX idx_coffees_is_coffee ON public.coffees USING btree (is_coffee)                                                                                                  |
| idx_coffees_raw_hash                      | CREATE INDEX idx_coffees_raw_hash ON public.coffees USING btree (((source_raw ->> 'raw_hash'::text)))                                                                         |
| idx_coffees_roaster                       | CREATE INDEX idx_coffees_roaster ON public.coffees USING btree (roaster_id)                                                                                                   |
| idx_coffees_tags                          | CREATE INDEX idx_coffees_tags ON public.coffees USING gin (tags)                                                                                                              |
| idx_coffees_varieties                     | CREATE INDEX idx_coffees_varieties ON public.coffees USING gin (varieties)                                                                                                    |
| idx_enrichments_applied                   | CREATE INDEX idx_enrichments_applied ON public.enrichments USING btree (applied)                                                                                              |
| idx_enrichments_artifact_id               | CREATE INDEX idx_enrichments_artifact_id ON public.enrichments USING btree (artifact_id)                                                                                      |
| idx_enrichments_confidence_score          | CREATE INDEX idx_enrichments_confidence_score ON public.enrichments USING btree (confidence_score)                                                                            |
| idx_enrichments_field                     | CREATE INDEX idx_enrichments_field ON public.enrichments USING btree (field)                                                                                                  |
| idx_estates_canon_estate_id               | CREATE INDEX idx_estates_canon_estate_id ON public.estates USING btree (canon_estate_id)                                                                                      |
| idx_estates_region_id                     | CREATE INDEX idx_estates_region_id ON public.estates USING btree (region_id)                                                                                                  |
| idx_form_submissions_created_at           | CREATE INDEX idx_form_submissions_created_at ON public.form_submissions USING btree (created_at DESC)                                                                         |
| idx_form_submissions_data_gin             | CREATE INDEX idx_form_submissions_data_gin ON public.form_submissions USING gin (data)                                                                                        |
| idx_form_submissions_email                | CREATE INDEX idx_form_submissions_email ON public.form_submissions USING btree (email) WHERE (email IS NOT NULL)                                                              |
| idx_form_submissions_form_type            | CREATE INDEX idx_form_submissions_form_type ON public.form_submissions USING btree (form_type)                                                                                |
| idx_form_submissions_status               | CREATE INDEX idx_form_submissions_status ON public.form_submissions USING btree (status)                                                                                      |
| idx_form_submissions_type_status_created  | CREATE INDEX idx_form_submissions_type_status_created ON public.form_submissions USING btree (form_type, status, created_at DESC)                                             |
| idx_form_submissions_user_id              | CREATE INDEX idx_form_submissions_user_id ON public.form_submissions USING btree (user_id) WHERE (user_id IS NOT NULL)                                                        |
| idx_llm_cache_created_at                  | CREATE INDEX idx_llm_cache_created_at ON public.llm_cache USING btree (created_at)                                                                                            |
| idx_llm_cache_expires_at                  | CREATE INDEX idx_llm_cache_expires_at ON public.llm_cache USING btree (expires_at)                                                                                            |
| idx_llm_cache_key                         | CREATE INDEX idx_llm_cache_key ON public.llm_cache USING btree (key)                                                                                                          |
| idx_prices_scraped_at                     | CREATE INDEX idx_prices_scraped_at ON public.prices USING btree (scraped_at)                                                                                                  |
| idx_prices_variant_scraped_at             | CREATE INDEX idx_prices_variant_scraped_at ON public.prices USING btree (variant_id, scraped_at DESC)                                                                         |
| idx_prices_variant_time                   | CREATE INDEX idx_prices_variant_time ON public.prices USING btree (variant_id, scraped_at DESC)                                                                               |
| idx_product_sources_roaster               | CREATE INDEX idx_product_sources_roaster ON public.product_sources USING btree (roaster_id)                                                                                   |
| idx_rating_migrations_ip_address          | CREATE INDEX idx_rating_migrations_ip_address ON public.rating_migrations USING btree (ip_address)                                                                            |
| idx_rating_migrations_user_id             | CREATE INDEX idx_rating_migrations_user_id ON public.rating_migrations USING btree (user_id)                                                                                  |
| idx_raw_products_is_coffee                | CREATE INDEX idx_raw_products_is_coffee ON public.raw_products USING btree (is_coffee) WHERE (is_coffee IS NOT NULL)                                                          |
| idx_raw_products_roaster_last_seen        | CREATE INDEX idx_raw_products_roaster_last_seen ON public.raw_products USING btree (roaster_id, last_seen_at DESC)                                                            |
| idx_raw_products_source_raw_gin           | CREATE INDEX idx_raw_products_source_raw_gin ON public.raw_products USING gin (source_raw) WHERE (source_raw IS NOT NULL)                                                     |
| idx_raw_products_unique_platform_product  | CREATE UNIQUE INDEX idx_raw_products_unique_platform_product ON public.raw_products USING btree (roaster_id, platform, platform_product_id)                                   |
| idx_regions_canon_region_id               | CREATE INDEX idx_regions_canon_region_id ON public.regions USING btree (canon_region_id)                                                                                      |
| idx_reviews_anon_id                       | CREATE INDEX idx_reviews_anon_id ON public.reviews USING btree (anon_id, created_at DESC) WHERE (anon_id IS NOT NULL)                                                         |
| idx_reviews_created_at                    | CREATE INDEX idx_reviews_created_at ON public.reviews USING btree (created_at DESC)                                                                                           |
| idx_reviews_entity_lookup_active          | CREATE INDEX idx_reviews_entity_lookup_active ON public.reviews USING btree (entity_type, entity_id, created_at DESC) WHERE (status = 'active'::review_status)                |
| idx_reviews_rating                        | CREATE INDEX idx_reviews_rating ON public.reviews USING btree (rating) WHERE (rating IS NOT NULL)                                                                             |
| idx_reviews_status_created                | CREATE INDEX idx_reviews_status_created ON public.reviews USING btree (status, created_at DESC)                                                                               |
| idx_reviews_user_id                       | CREATE INDEX idx_reviews_user_id ON public.reviews USING btree (user_id, created_at DESC) WHERE (user_id IS NOT NULL)                                                         |
| idx_role_audit_log_changed_by             | CREATE INDEX idx_role_audit_log_changed_by ON public.role_audit_log USING btree (changed_by)                                                                                  |
| idx_role_audit_log_user_id                | CREATE INDEX idx_role_audit_log_user_id ON public.role_audit_log USING btree (user_id)                                                                                        |
| idx_scrape_artifacts_created_at           | CREATE INDEX idx_scrape_artifacts_created_at ON public.scrape_artifacts USING btree (created_at)                                                                              |
| idx_scrape_artifacts_run_id               | CREATE INDEX idx_scrape_artifacts_run_id ON public.scrape_artifacts USING btree (scrape_run_id)                                                                               |
| idx_scrape_artifacts_status               | CREATE INDEX idx_scrape_artifacts_status ON public.scrape_artifacts USING btree (validation_status) WHERE (validation_status = ANY (ARRAY['invalid'::text, 'warning'::text])) |
| idx_scrape_runs_run_type                  | CREATE INDEX idx_scrape_runs_run_type ON public.scrape_runs USING btree (run_type)                                                                                            |
| idx_scrape_runs_source_id                 | CREATE INDEX idx_scrape_runs_source_id ON public.scrape_runs USING btree (source_id)                                                                                          |
| idx_scrape_runs_type_date                 | CREATE INDEX idx_scrape_runs_type_date ON public.scrape_runs USING btree (run_type, started_at DESC)                                                                          |
| idx_sensory_params_updated_at             | CREATE INDEX idx_sensory_params_updated_at ON public.sensory_params USING btree (updated_at DESC)                                                                             |
| idx_user_coffee_preferences_user_id       | CREATE INDEX idx_user_coffee_preferences_user_id ON public.user_coffee_preferences USING btree (user_id)                                                                      |
| idx_user_notification_preferences_user_id | CREATE INDEX idx_user_notification_preferences_user_id ON public.user_notification_preferences USING btree (user_id)                                                          |
| idx_user_profiles_created_at              | CREATE INDEX idx_user_profiles_created_at ON public.user_profiles USING btree (created_at)                                                                                    |
| idx_user_profiles_deleted_at              | CREATE INDEX idx_user_profiles_deleted_at ON public.user_profiles USING btree (deleted_at) WHERE (deleted_at IS NOT NULL)                                                     |
| idx_user_profiles_email                   | CREATE INDEX idx_user_profiles_email ON public.user_profiles USING btree (email)                                                                                              |
| idx_user_profiles_username                | CREATE INDEX idx_user_profiles_username ON public.user_profiles USING btree (username)                                                                                        |
| idx_user_roles_created_by                 | CREATE INDEX idx_user_roles_created_by ON public.user_roles USING btree (created_by)                                                                                          |
| idx_user_roles_role                       | CREATE INDEX idx_user_roles_role ON public.user_roles USING btree (role)                                                                                                      |
| idx_user_roles_user_id                    | CREATE INDEX idx_user_roles_user_id ON public.user_roles USING btree (user_id)                                                                                                |
| idx_variants_coffee                       | CREATE INDEX idx_variants_coffee ON public.variants USING btree (coffee_id)                                                                                                   |
| idx_variants_coffee_weight                | CREATE INDEX idx_variants_coffee_weight ON public.variants USING btree (coffee_id, weight_g)                                                                                  |
| idx_variants_instock                      | CREATE INDEX idx_variants_instock ON public.variants USING btree (in_stock) WHERE (in_stock = true)                                                                           |
| idx_variants_price_last_checked_at        | CREATE INDEX idx_variants_price_last_checked_at ON public.variants USING btree (price_last_checked_at)                                                                        |
| idx_variants_status                       | CREATE INDEX idx_variants_status ON public.variants USING btree (status)                                                                                                      |
| llm_cache_key_key                         | CREATE UNIQUE INDEX llm_cache_key_key ON public.llm_cache USING btree (key)                                                                                                   |
| llm_cache_pkey                            | CREATE UNIQUE INDEX llm_cache_pkey ON public.llm_cache USING btree (id)                                                                                                       |
| prices_pkey                               | CREATE UNIQUE INDEX prices_pkey ON public.prices USING btree (id)                                                                                                             |
| prices_variant_id_scraped_at_key          | CREATE UNIQUE INDEX prices_variant_id_scraped_at_key ON public.prices USING btree (variant_id, scraped_at)                                                                    |
| product_sources_pkey                      | CREATE UNIQUE INDEX product_sources_pkey ON public.product_sources USING btree (id)                                                                                           |
| rating_migrations_pkey                    | CREATE UNIQUE INDEX rating_migrations_pkey ON public.rating_migrations USING btree (id)                                                                                       |
| raw_products_pkey                         | CREATE UNIQUE INDEX raw_products_pkey ON public.raw_products USING btree (id)                                                                                                 |
| raw_products_unique                       | CREATE UNIQUE INDEX raw_products_unique ON public.raw_products USING btree (roaster_id, platform, platform_product_id)                                                        |
| regions_country_state_subregion_key       | CREATE UNIQUE INDEX regions_country_state_subregion_key ON public.regions USING btree (country, state, subregion)                                                             |
| regions_pkey                              | CREATE UNIQUE INDEX regions_pkey ON public.regions USING btree (id)                                                                                                           |
| regions_subregion_key                     | CREATE UNIQUE INDEX regions_subregion_key ON public.regions USING btree (subregion)                                                                                           |
| reviews_pkey                              | CREATE UNIQUE INDEX reviews_pkey ON public.reviews USING btree (id)                                                                                                           |
| roasters_pkey                             | CREATE UNIQUE INDEX roasters_pkey ON public.roasters USING btree (id)                                                                                                         |
| roasters_slug_key                         | CREATE UNIQUE INDEX roasters_slug_key ON public.roasters USING btree (slug)                                                                                                   |
| role_audit_log_pkey                       | CREATE UNIQUE INDEX role_audit_log_pkey ON public.role_audit_log USING btree (id)                                                                                             |
| scrape_artifacts_pkey                     | CREATE UNIQUE INDEX scrape_artifacts_pkey ON public.scrape_artifacts USING btree (id)                                                                                         |
| scrape_runs_pkey                          | CREATE UNIQUE INDEX scrape_runs_pkey ON public.scrape_runs USING btree (id)                                                                                                   |
| sensory_params_pkey                       | CREATE UNIQUE INDEX sensory_params_pkey ON public.sensory_params USING btree (coffee_id)                                                                                      |
| unique_image_paths                        | CREATE UNIQUE INDEX unique_image_paths ON public.coffee_images USING btree (url)                                                                                              |
| user_coffee_preferences_pkey              | CREATE UNIQUE INDEX user_coffee_preferences_pkey ON public.user_coffee_preferences USING btree (id)                                                                           |
| user_coffee_preferences_user_id_key       | CREATE UNIQUE INDEX user_coffee_preferences_user_id_key ON public.user_coffee_preferences USING btree (user_id)                                                               |
| user_notification_preferences_pkey        | CREATE UNIQUE INDEX user_notification_preferences_pkey ON public.user_notification_preferences USING btree (id)                                                               |
| user_notification_preferences_user_id_key | CREATE UNIQUE INDEX user_notification_preferences_user_id_key ON public.user_notification_preferences USING btree (user_id)                                                   |
| user_profiles_pkey                        | CREATE UNIQUE INDEX user_profiles_pkey ON public.user_profiles USING btree (id)                                                                                               |
| user_profiles_username_key                | CREATE UNIQUE INDEX user_profiles_username_key ON public.user_profiles USING btree (username)                                                                                 |
| user_roles_pkey                           | CREATE UNIQUE INDEX user_roles_pkey ON public.user_roles USING btree (id)                                                                                                     |
| user_roles_user_id_role_key               | CREATE UNIQUE INDEX user_roles_user_id_role_key ON public.user_roles USING btree (user_id, role)                                                                              |
| ux_coffee_flavor_notes_pair               | CREATE UNIQUE INDEX ux_coffee_flavor_notes_pair ON public.coffee_flavor_notes USING btree (coffee_id, flavor_note_id)                                                         |
| ux_coffee_images_coffee_url               | CREATE UNIQUE INDEX ux_coffee_images_coffee_url ON public.coffee_images USING btree (coffee_id, url)                                                                          |
| ux_coffees_roaster_platform               | CREATE UNIQUE INDEX ux_coffees_roaster_platform ON public.coffees USING btree (roaster_id, platform_product_id) WHERE (platform_product_id IS NOT NULL)                       |
| ux_flavor_notes_key                       | CREATE UNIQUE INDEX ux_flavor_notes_key ON public.flavor_notes USING btree (lower(key))                                                                                       |
| ux_prices_variant_time                    | CREATE UNIQUE INDEX ux_prices_variant_time ON public.prices USING btree (variant_id, scraped_at)                                                                              |
| ux_roasters_slug                          | CREATE UNIQUE INDEX ux_roasters_slug ON public.roasters USING btree (slug)                                                                                                    |
| ux_variants_coffee_platform               | CREATE UNIQUE INDEX ux_variants_coffee_platform ON public.variants USING btree (coffee_id, platform_variant_id)                                                               |
| variants_pkey                             | CREATE UNIQUE INDEX variants_pkey ON public.variants USING btree (id)                                                                                                         |